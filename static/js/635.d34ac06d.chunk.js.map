{"version":3,"file":"static/js/635.d34ac06d.chunk.js","mappings":"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","sources":["createVideoProcessor/VideoProcessors/MediaPipe/drawImageMask.ts","createVideoProcessor/VideoProcessors/MediaPipe/index.ts","utils/canvas.ts","utils/createFpsMeter.ts","utils/mediaStreamToVideo.ts","../node_modules/@mediapipe/camera_utils/camera_utils.js"],"sourcesContent":["import { getContext, drawWithCompositing } from '../../../utils/canvas';\nimport type { TCanvas } from '../../../utils/canvas';\n\nconst drawImageMask = ({\n  videoSource,\n  canvas,\n  imageMask,\n  personMask,\n  edgeBlurAmount,\n}: {\n  videoSource: HTMLVideoElement;\n  canvas: TCanvas;\n  imageMask: HTMLImageElement;\n  personMask?: ImageBitmap;\n  edgeBlurAmount: number;\n}) => {\n  const { width, height } = videoSource;\n  const context = getContext(canvas);\n\n  if (!personMask) {\n    context.drawImage(videoSource, 0, 0);\n\n    return;\n  }\n\n  context.save();\n\n  // render original image\n  context.drawImage(videoSource, 0, 0);\n\n  if (edgeBlurAmount > 0) {\n    context.filter = `blur(${edgeBlurAmount}px)`;\n  }\n\n  drawWithCompositing(context, personMask, 'destination-in', width, height);\n  context.filter = 'none';\n\n  drawWithCompositing(context, imageMask, 'destination-over', width, height);\n\n  context.restore();\n};\n\nexport default drawImageMask;\n","import { Camera } from '@mediapipe/camera_utils';\nimport { SelfieSegmentation } from '@mediapipe/selfie_segmentation';\nimport type { ResultsListener } from '@mediapipe/selfie_segmentation';\nimport type { TResolveProcessVideo, TModelSelection } from '../../../typings';\nimport createFpsMeter from '../../../utils/createFpsMeter';\nimport mediaStreamToVideo from '../../../utils/mediaStreamToVideo';\nimport { createCanvas } from '../../../utils/canvas';\nimport drawImageMask from './drawImageMask';\n\nconst resolveProcessVideoMediaPipe: TResolveProcessVideo = ({\n  imageBitmapMask360p,\n  imageBitmapMask720p,\n  imageBitmapMask1080p,\n}) => {\n  const selfieSegmentation = new SelfieSegmentation({\n    locateFile: (file) => {\n      return `https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/${file}`;\n    },\n  });\n  const fpsMeter = createFpsMeter();\n  let videoSource: HTMLVideoElement;\n  let canvasTarget: HTMLCanvasElement;\n\n  const createVideo = (mediaStream: MediaStream) => {\n    return mediaStreamToVideo(mediaStream).then((video) => {\n      videoSource = video;\n\n      return videoSource;\n    });\n  };\n  const startVideoProcessing = ({\n    modelSelection,\n    edgeBlurAmount,\n  }: {\n    modelSelection: TModelSelection;\n    edgeBlurAmount: number;\n  }) => {\n    const { width, height } = videoSource;\n\n    let imageBitmapMask: HTMLImageElement;\n\n    fpsMeter.init();\n\n    // eslint-disable-next-line default-case\n    switch (width) {\n      case 640:\n        imageBitmapMask = imageBitmapMask360p;\n        break;\n      case 1280:\n        imageBitmapMask = imageBitmapMask720p;\n        break;\n      case 1920:\n        imageBitmapMask = imageBitmapMask1080p;\n        break;\n    }\n\n    const onResults: ResultsListener = (results) => {\n      drawImageMask({\n        edgeBlurAmount,\n        personMask: results.segmentationMask as ImageBitmap,\n        imageMask: imageBitmapMask,\n        canvas: canvasTarget,\n        videoSource: results.image as unknown as HTMLVideoElement,\n      });\n      fpsMeter.end();\n    };\n\n    const GENERAL = 0;\n    const LANDSCAPE = 1;\n\n    selfieSegmentation.setOptions({\n      modelSelection: modelSelection === 'general' ? GENERAL : LANDSCAPE,\n    });\n    selfieSegmentation.onResults(onResults);\n\n    const camera = new Camera(videoSource, {\n      onFrame: async () => {\n        fpsMeter.begin();\n        await selfieSegmentation.send({ image: videoSource });\n      },\n      width,\n      height,\n    });\n\n    camera.start();\n  };\n\n  const start = ({\n    mediaStream,\n    modelSelection,\n    edgeBlurAmount,\n  }: {\n    mediaStream: MediaStream;\n    modelSelection: TModelSelection;\n    edgeBlurAmount: number;\n  }) => {\n    return createVideo(mediaStream).then(() => {\n      const { width, height } = videoSource;\n\n      canvasTarget = createCanvas(width, height);\n\n      startVideoProcessing({ modelSelection, edgeBlurAmount });\n\n      const mediaStreamOutput = canvasTarget.captureStream();\n\n      return mediaStreamOutput;\n    });\n  };\n  const stopVideoProcessing = (): Promise<void> => {\n    fpsMeter.reset();\n\n    return Promise.resolve();\n\n    // return selfieSegmentation.close();\n  };\n  const stop = () => {\n    return stopVideoProcessing().then(() => {\n      if (videoSource) {\n        videoSource.srcObject = null;\n      }\n    });\n  };\n\n  const changeParams = ({\n    modelSelection,\n    edgeBlurAmount,\n  }: {\n    modelSelection: TModelSelection;\n    edgeBlurAmount: number;\n  }) => {\n    return stopVideoProcessing()\n      .then(() => {})\n      .then(() => {\n        return startVideoProcessing({ modelSelection, edgeBlurAmount });\n      });\n  };\n  const restart = ({\n    mediaStream,\n    modelSelection,\n    edgeBlurAmount,\n  }: {\n    mediaStream: MediaStream;\n    modelSelection: TModelSelection;\n    edgeBlurAmount: number;\n  }) => {\n    return stop().then(() => {\n      return start({\n        mediaStream,\n        modelSelection,\n        edgeBlurAmount,\n      });\n    });\n  };\n\n  return { start, restart, changeParams, stop };\n};\nexport default resolveProcessVideoMediaPipe;\n","export type TCanvas = HTMLCanvasElement | OffscreenCanvas;\n\nexport const createCanvas = (width: number, height: number): HTMLCanvasElement => {\n  const canvas = document.createElement('canvas');\n\n  canvas.width = width;\n  canvas.height = height;\n\n  return canvas;\n};\n\nexport const getContext = <T = CanvasRenderingContext2D>(\n  canvas: TCanvas,\n  {\n    type = '2d',\n    imageSmoothingQuality,\n    globalCompositeOperation,\n    alpha = false,\n  }: {\n    type?: '2d';\n    imageSmoothingQuality?: ImageSmoothingQuality;\n    globalCompositeOperation?: GlobalCompositeOperation;\n    alpha?: boolean;\n  } = {}\n): T => {\n  const context = canvas.getContext(type, {\n    alpha,\n    desynchronized: true,\n    willReadFrequently: true,\n  }) as CanvasRenderingContext2D;\n\n  if (imageSmoothingQuality) {\n    context.imageSmoothingEnabled = true;\n    context.imageSmoothingQuality = imageSmoothingQuality;\n  }\n\n  if (globalCompositeOperation) {\n    context.globalCompositeOperation = globalCompositeOperation;\n  }\n\n  const contextReturned = context as unknown as T;\n\n  return contextReturned;\n};\n\nexport const createOffScreenCanvas = (width: number, height: number): OffscreenCanvas => {\n  const offScreenCanvas = new OffscreenCanvas(width, height);\n\n  return offScreenCanvas;\n};\n\nexport const fill = (\n  canvas: TCanvas,\n  {\n    x = 0,\n    y = 0,\n    width,\n    height,\n    color = '#202020',\n  }: {\n    x?: number;\n    y?: number;\n    width: number;\n    height: number;\n    color?: string;\n  }\n) => {\n  const context = getContext(canvas);\n\n  context.fillStyle = color;\n  context.fillRect(x, y, width, height);\n};\n\nconst getImageSizes = (image: CanvasImageSource | ImageBitmap) => {\n  const { height, width } = image as { width: number; height: number };\n\n  return { height, width };\n};\n\nexport const renderImageDataToCanvas = (image: ImageData, canvas) => {\n  const context = getContext(canvas);\n\n  context.putImageData(image, 0, 0);\n};\n\nexport const renderImageToCanvas = (\n  image: CanvasImageSource,\n  canvas: TCanvas,\n  {\n    x = 0,\n    y = 0,\n    width,\n    height,\n    imageSmoothingQuality,\n    alpha,\n    globalCompositeOperation,\n  }: {\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    imageSmoothingQuality?: ImageSmoothingQuality;\n    alpha?: boolean;\n    globalCompositeOperation?: GlobalCompositeOperation;\n  } = {}\n) => {\n  const imageSizes = getImageSizes(image);\n  const targetWidth = width || imageSizes.width;\n  const targetHeight = height || imageSizes.height;\n  const context = getContext(canvas, { imageSmoothingQuality, alpha, globalCompositeOperation });\n\n  context.drawImage(image, x, y, targetWidth, targetHeight);\n};\n\nconst drawAndBlurImageOnCanvas = (image, blurAmount, canvas) => {\n  const { height, width } = image;\n  const context = getContext(canvas);\n\n  context.clearRect(0, 0, width, height);\n  context.save();\n\n  context.filter = `blur(${blurAmount}px)`;\n  context.drawImage(image, 0, 0, width, height);\n\n  context.restore();\n};\n\nexport const drawAndBlurImageOnOffScreenCanvas = ({\n  canvas,\n  image,\n  blurAmount,\n}: {\n  canvas: OffscreenCanvas;\n  image: CanvasImageSource;\n  blurAmount: number;\n}) => {\n  if (blurAmount === 0) {\n    renderImageToCanvas(image, canvas);\n  } else {\n    drawAndBlurImageOnCanvas(image, blurAmount, canvas);\n  }\n};\n\nexport const drawWithCompositing = (\n  context: CanvasRenderingContext2D,\n  image: CanvasImageSource,\n  compositeOperation,\n  desiredWidth,\n  desiredHeight\n) => {\n  context.globalCompositeOperation = compositeOperation;\n\n  const { width, height } = image;\n\n  context.drawImage(\n    image,\n    0,\n    0,\n    // @ts-ignore\n    width,\n    height,\n    0,\n    0,\n    desiredWidth,\n    desiredHeight\n  );\n};\n\nexport const imageBitmapToImageData = (canvas, imageBitmap, desiredWidth, desiredHeight) => {\n  const { width, height } = imageBitmap;\n  const context = getContext(canvas);\n\n  context.drawImage(imageBitmap, 0, 0, width, height, 0, 0, desiredWidth, desiredHeight);\n\n  const imageData = context.getImageData(0, 0, desiredWidth, desiredHeight);\n\n  return imageData;\n};\n\nexport const imageToImageBitmap = ({\n  canvas,\n  image,\n}: {\n  canvas: OffscreenCanvas;\n  image: CanvasImageSource;\n}) => {\n  renderImageToCanvas(image, canvas);\n\n  return canvas.transferToImageBitmap();\n};\n","import Stats from 'stats-js';\n\nconst createFpsMeter = () => {\n  let stats;\n  let isBegined = false;\n  let isEnded = true;\n  const init = () => {\n    isBegined = false;\n    isEnded = true;\n    stats = new Stats();\n    stats.showPanel(0);\n\n    document.body.appendChild(stats.dom);\n  };\n  const begin = () => {\n    if (stats && isEnded && !isBegined) {\n      isEnded = false;\n      isBegined = true;\n      stats.begin();\n    }\n  };\n  const end = () => {\n    if (stats && isBegined && !isEnded) {\n      isEnded = true;\n      isBegined = false;\n      stats.end();\n    }\n  };\n  const reset = () => {\n    document.body.removeChild(stats.dom);\n    stats = undefined;\n  };\n\n  return { init, begin, end, reset };\n};\n\nexport default createFpsMeter;\n","const mediaStreamToVideo = (mediaStream: MediaStream): Promise<HTMLVideoElement> => {\n  const videoElement = document.createElement('video');\n\n  videoElement.srcObject = mediaStream;\n\n  return new Promise((resolve) => {\n    videoElement.onloadedmetadata = () => {\n      videoElement.width = videoElement.videoWidth;\n      videoElement.height = videoElement.videoHeight;\n      videoElement.play();\n      resolve(videoElement);\n    };\n  });\n};\n\nexport default mediaStreamToVideo;\n","(function(){/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\n'use strict';function n(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var q=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){if(a==Array.prototype||a==Object.prototype)return a;a[b]=e.value;return a};\nfunction t(a){a=[\"object\"==typeof globalThis&&globalThis,a,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}throw Error(\"Cannot find global object\");}var u=t(this);function v(a,b){if(b)a:{var e=u;a=a.split(\".\");for(var f=0;f<a.length-1;f++){var h=a[f];if(!(h in e))break a;e=e[h]}a=a[a.length-1];f=e[a];b=b(f);b!=f&&null!=b&&q(e,a,{configurable:!0,writable:!0,value:b})}}\nv(\"Symbol\",function(a){function b(l){if(this instanceof b)throw new TypeError(\"Symbol is not a constructor\");return new e(f+(l||\"\")+\"_\"+h++,l)}function e(l,c){this.g=l;q(this,\"description\",{configurable:!0,writable:!0,value:c})}if(a)return a;e.prototype.toString=function(){return this.g};var f=\"jscomp_symbol_\"+(1E9*Math.random()>>>0)+\"_\",h=0;return b});\nv(\"Symbol.iterator\",function(a){if(a)return a;a=Symbol(\"Symbol.iterator\");for(var b=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),e=0;e<b.length;e++){var f=u[b[e]];\"function\"===typeof f&&\"function\"!=typeof f.prototype[a]&&q(f.prototype,a,{configurable:!0,writable:!0,value:function(){return w(n(this))}})}return a});function w(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}\nfunction x(a){var b=\"undefined\"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:n(a)}}function y(){this.i=!1;this.g=null;this.o=void 0;this.j=1;this.m=0;this.h=null}function z(a){if(a.i)throw new TypeError(\"Generator is already running\");a.i=!0}y.prototype.l=function(a){this.o=a};function A(a,b){a.h={F:b,G:!0};a.j=a.m}y.prototype.return=function(a){this.h={return:a};this.j=this.m};function B(a){this.g=new y;this.h=a}\nfunction C(a,b){z(a.g);var e=a.g.g;if(e)return D(a,\"return\"in e?e[\"return\"]:function(f){return{value:f,done:!0}},b,a.g.return);a.g.return(b);return H(a)}function D(a,b,e,f){try{var h=b.call(a.g.g,e);if(!(h instanceof Object))throw new TypeError(\"Iterator result \"+h+\" is not an object\");if(!h.done)return a.g.i=!1,h;var l=h.value}catch(c){return a.g.g=null,A(a.g,c),H(a)}a.g.g=null;f.call(a.g,l);return H(a)}\nfunction H(a){for(;a.g.j;)try{var b=a.h(a.g);if(b)return a.g.i=!1,{value:b.value,done:!1}}catch(e){a.g.o=void 0,A(a.g,e)}a.g.i=!1;if(a.g.h){b=a.g.h;a.g.h=null;if(b.G)throw b.F;return{value:b.return,done:!0}}return{value:void 0,done:!0}}\nfunction I(a){this.next=function(b){z(a.g);a.g.g?b=D(a,a.g.g.next,b,a.g.l):(a.g.l(b),b=H(a));return b};this.throw=function(b){z(a.g);a.g.g?b=D(a,a.g.g[\"throw\"],b,a.g.l):(A(a.g,b),b=H(a));return b};this.return=function(b){return C(a,b)};this[Symbol.iterator]=function(){return this}}function J(a){function b(f){return a.next(f)}function e(f){return a.throw(f)}return new Promise(function(f,h){function l(c){c.done?f(c.value):Promise.resolve(c.value).then(b,e).then(l,h)}l(a.next())})}\nv(\"Promise\",function(a){function b(c){this.h=0;this.i=void 0;this.g=[];this.o=!1;var d=this.j();try{c(d.resolve,d.reject)}catch(g){d.reject(g)}}function e(){this.g=null}function f(c){return c instanceof b?c:new b(function(d){d(c)})}if(a)return a;e.prototype.h=function(c){if(null==this.g){this.g=[];var d=this;this.i(function(){d.l()})}this.g.push(c)};var h=u.setTimeout;e.prototype.i=function(c){h(c,0)};e.prototype.l=function(){for(;this.g&&this.g.length;){var c=this.g;this.g=[];for(var d=0;d<c.length;++d){var g=\nc[d];c[d]=null;try{g()}catch(k){this.j(k)}}}this.g=null};e.prototype.j=function(c){this.i(function(){throw c;})};b.prototype.j=function(){function c(k){return function(m){g||(g=!0,k.call(d,m))}}var d=this,g=!1;return{resolve:c(this.A),reject:c(this.l)}};b.prototype.A=function(c){if(c===this)this.l(new TypeError(\"A Promise cannot resolve to itself\"));else if(c instanceof b)this.C(c);else{a:switch(typeof c){case \"object\":var d=null!=c;break a;case \"function\":d=!0;break a;default:d=!1}d?this.v(c):this.m(c)}};\nb.prototype.v=function(c){var d=void 0;try{d=c.then}catch(g){this.l(g);return}\"function\"==typeof d?this.D(d,c):this.m(c)};b.prototype.l=function(c){this.u(2,c)};b.prototype.m=function(c){this.u(1,c)};b.prototype.u=function(c,d){if(0!=this.h)throw Error(\"Cannot settle(\"+c+\", \"+d+\"): Promise already settled in state\"+this.h);this.h=c;this.i=d;2===this.h&&this.B();this.H()};b.prototype.B=function(){var c=this;h(function(){if(c.I()){var d=u.console;\"undefined\"!==typeof d&&d.error(c.i)}},1)};b.prototype.I=\nfunction(){if(this.o)return!1;var c=u.CustomEvent,d=u.Event,g=u.dispatchEvent;if(\"undefined\"===typeof g)return!0;\"function\"===typeof c?c=new c(\"unhandledrejection\",{cancelable:!0}):\"function\"===typeof d?c=new d(\"unhandledrejection\",{cancelable:!0}):(c=u.document.createEvent(\"CustomEvent\"),c.initCustomEvent(\"unhandledrejection\",!1,!0,c));c.promise=this;c.reason=this.i;return g(c)};b.prototype.H=function(){if(null!=this.g){for(var c=0;c<this.g.length;++c)l.h(this.g[c]);this.g=null}};var l=new e;b.prototype.C=\nfunction(c){var d=this.j();c.s(d.resolve,d.reject)};b.prototype.D=function(c,d){var g=this.j();try{c.call(d,g.resolve,g.reject)}catch(k){g.reject(k)}};b.prototype.then=function(c,d){function g(p,r){return\"function\"==typeof p?function(E){try{k(p(E))}catch(F){m(F)}}:r}var k,m,G=new b(function(p,r){k=p;m=r});this.s(g(c,k),g(d,m));return G};b.prototype.catch=function(c){return this.then(void 0,c)};b.prototype.s=function(c,d){function g(){switch(k.h){case 1:c(k.i);break;case 2:d(k.i);break;default:throw Error(\"Unexpected state: \"+\nk.h);}}var k=this;null==this.g?l.h(g):this.g.push(g);this.o=!0};b.resolve=f;b.reject=function(c){return new b(function(d,g){g(c)})};b.race=function(c){return new b(function(d,g){for(var k=x(c),m=k.next();!m.done;m=k.next())f(m.value).s(d,g)})};b.all=function(c){var d=x(c),g=d.next();return g.done?f([]):new b(function(k,m){function G(E){return function(F){p[E]=F;r--;0==r&&k(p)}}var p=[],r=0;do p.push(void 0),r++,f(g.value).s(G(p.length-1),m),g=d.next();while(!g.done)})};return b});\nvar K=\"function\"==typeof Object.assign?Object.assign:function(a,b){for(var e=1;e<arguments.length;e++){var f=arguments[e];if(f)for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h])}return a};v(\"Object.assign\",function(a){return a||K});var L=this||self;var M={facingMode:\"user\",width:640,height:480};function N(a,b){this.video=a;this.i=0;this.h=Object.assign(Object.assign({},M),b)}N.prototype.stop=function(){var a=this,b,e,f,h;return J(new I(new B(function(l){if(a.g){b=a.g.getTracks();e=x(b);for(f=e.next();!f.done;f=e.next())h=f.value,h.stop();a.g=void 0}l.j=0})))};\nN.prototype.start=function(){var a=this,b;return J(new I(new B(function(e){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert(\"No navigator.mediaDevices.getUserMedia exists.\");b=a.h;return e.return(navigator.mediaDevices.getUserMedia({video:{facingMode:b.facingMode,width:b.width,height:b.height}}).then(function(f){O(a,f)}).catch(function(f){var h=\"Failed to acquire camera feed: \"+f;console.error(h);alert(h);throw f;}))})))};\nfunction P(a){window.requestAnimationFrame(function(){Q(a)})}function O(a,b){a.g=b;a.video.srcObject=b;a.video.onloadedmetadata=function(){a.video.play();P(a)}}function Q(a){var b=null;a.video.paused||a.video.currentTime===a.i||(a.i=a.video.currentTime,b=a.h.onFrame());b?b.then(function(){P(a)}):P(a)}var R=[\"Camera\"],S=L;R[0]in S||\"undefined\"==typeof S.execScript||S.execScript(\"var \"+R[0]);\nfor(var T;R.length&&(T=R.shift());)R.length||void 0===N?S[T]&&S[T]!==Object.prototype[T]?S=S[T]:S=S[T]={}:S[T]=N;}).call(this);\n"],"names":["videoSource","canvas","imageMask","personMask","edgeBlurAmount","width","height","context","getContext","save","drawImage","filter","drawWithCompositing","restore","imageBitmapMask360p","imageBitmapMask720p","imageBitmapMask1080p","selfieSegmentation","SelfieSegmentation","locateFile","file","fpsMeter","createFpsMeter","canvasTarget","startVideoProcessing","modelSelection","imageBitmapMask","init","setOptions","onResults","results","drawImageMask","segmentationMask","image","end","Camera","onFrame","async","begin","send","start","mediaStream","mediaStreamToVideo","then","video","createVideo","createCanvas","captureStream","stopVideoProcessing","reset","Promise","resolve","stop","srcObject","restart","changeParams","document","createElement","type","imageSmoothingQuality","globalCompositeOperation","alpha","desynchronized","willReadFrequently","imageSmoothingEnabled","createOffScreenCanvas","OffscreenCanvas","getImageSizes","renderImageDataToCanvas","putImageData","renderImageToCanvas","x","y","imageSizes","targetWidth","targetHeight","compositeOperation","desiredWidth","desiredHeight","imageToImageBitmap","transferToImageBitmap","stats","isBegined","isEnded","Stats","showPanel","body","appendChild","dom","removeChild","undefined","videoElement","onloadedmetadata","videoWidth","videoHeight","play","n","a","b","length","done","value","q","Object","defineProperties","defineProperty","e","Array","prototype","u","globalThis","window","self","global","Math","Error","t","this","v","split","f","h","configurable","writable","w","next","Symbol","iterator","call","i","g","o","j","m","z","TypeError","A","F","G","B","D","l","c","H","return","I","throw","C","J","toString","random","d","reject","push","setTimeout","k","console","error","CustomEvent","Event","dispatchEvent","cancelable","createEvent","initCustomEvent","promise","reason","s","p","r","E","catch","race","all","K","assign","arguments","hasOwnProperty","L","M","facingMode","N","P","requestAnimationFrame","paused","currentTime","Q","getTracks","navigator","mediaDevices","getUserMedia","alert","O","T","R","S","execScript","shift"],"sourceRoot":""}